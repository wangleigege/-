<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		html,body{
			margin: 0;
			padding: 0;
	
		}

		.chatbox{
			width: 300px;
			height: 500px;
			margin: 0 auto;
			border: 1px solid #0094ff;
		}

		.message{

			width: 100%;
			height: 80%;
			background-color:yellowgreen;
			overflow: scroll; 
		}
		
		.inputBox{

			width: 100%;
			height: 20%;
			background-color: hotpink;
			overflow: hidden;
			position: relative;
		}

		.inputBox input:first-child{
			height: 100%;
			width: 80%;
			padding-left: 0;


		}

		.inputBox input:nth-child(2){
			position: absolute;
			height: 20%;
			width: 20%;
			right: 0;
		}

		.my{
			height: 30px;
			line-height: 30px;
			text-align: left;
			font-size: 25px;
			color: gray;
			background-color: pink;
			border: 1px solid #0094ff;
		}
		.robot{
			height: 30px;
			line-height: 30px;
			text-align: right;
			font-size: 25px;
			color: white;
			background-color: seagreen;
			border: 1px solid #0094ff;
		}
	</style>
</head>
<body>

	<div class="chatbox">
		<div class="message">
			
		</div>
		<div class="inputBox">
			<input type="text" id="mymessage">
			<input type="button" id="btnSend"  value="发送">
		</div>
	</div>
	
</body>
</html>
<script type="text/javascript" src="tool.js"></script>
<script type="text/javascript">
	document.querySelector("#btnSend").onclick=function(){
		var inputvalue=document.querySelector("#mymessage").value;

		var mybox=document.createElement('div');
		mybox.innerHTML=inputvalue;
		mybox.classList.add("my");

		document.querySelector('.message').appendChild(mybox);

		ajax_tool('chat1.php','message='+inputvalue,'post',function(data){
             console.log("message");
			var robotBox=document.createElement('div');

		   robotBox.innerHTML=data;
		   robotBox.classList.add('robot');

		   document.querySelector('.message').appendChild(robotBox);
			
		});


	}

</script>
